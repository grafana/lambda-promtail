name: CloudFormation Templates

on: [push]

jobs:
  lint:
    runs-on: ubuntu-latest
    permissions: {}

    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          persist-credentials: false

      - name: Testing with CFN Lint Command
        uses: scottbrenner/cfn-lint-action@25ee47d1ab3146bda904df745511735cc0b9a970 # v2.5.2
        with:
          version: "[sarif]>=1.0"
          command: cfn-lint -t ./lambda-promtail.yaml
